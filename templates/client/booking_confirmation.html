{% extends 'base.html' %}
{% load static %}

{% block title %}Confirmación de Reserva{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg">
                <div class="card-header bg-success text-white text-center">
                    <h2><i class="fas fa-check-circle"></i> ¡Reserva Confirmada!</h2>
                </div>
                <div class="card-body">
                    <div class="alert alert-success text-center">
                        <h4>Tu reserva ha sido procesada exitosamente</h4>
                        <p>Número de reserva: <strong>#{{ booking.id }}</strong></p>
                    </div>
                    
                    <h5>Detalles de la Reserva:</h5>
                    <table class="table table-striped">
                        <tr>
                            <td><strong>Habitación:</strong></td>
                            <td>{{ booking.room.name }}</td>
                        </tr>
                        <tr>
                            <td><strong>Tipo:</strong></td>
                            <td>{{ booking.room.room_type }}</td>
                        </tr>
                        <tr>
                            <td><strong>Check-in:</strong></td>
                            <td>{{ booking.check_in_date|date:"d/m/Y" }}</td>
                        </tr>
                        <tr>
                            <td><strong>Check-out:</strong></td>
                            <td>{{ booking.check_out_date|date:"d/m/Y" }}</td>
                        </tr>
                        <tr>
                            <td><strong>Huéspedes:</strong></td>
                            <td>{{ booking.guests }}</td>
                        </tr>
                        <tr>
                            <td><strong>Total:</strong></td>
                            <td><strong>${{ booking.total_price }}</strong></td>
                        </tr>
                    </table>
                    
                    <h5>Información del Huésped:</h5>
                    <table class="table">
                        <tr>
                            <td><strong>Nombre:</strong></td>
                            <td>{{ booking.guest_name }}</td>
                        </tr>
                        <tr>
                            <td><strong>Email:</strong></td>
                            <td>{{ booking.guest_email }}</td>
                        </tr>
                        <tr>
                            <td><strong>Teléfono:</strong></td>
                            <td>{{ booking.guest_phone }}</td>
                        </tr>
                    </table>
                    
                    <div class="alert alert-info">
                        <h6>Próximos pasos:</h6>
                        <ul>
                            <li>Recibirás un email de confirmación</li>
                            <li>Check-in: 15:00 hrs</li>
                            <li>Check-out: 12:00 hrs</li>
                            <li>Presenta tu ID al llegar</li>
                        </ul>
                    </div>
                    
                    <div class="text-center mt-4">
                        <a href="{% if hotel %}{% url 'client_my_bookings_hotel' hotel.slug %}{% else %}{% url 'my_bookings' %}{% endif %}" class="btn btn-primary me-2">
                            Ver Mis Reservas
                        </a>
                        <a href="{% if hotel %}{% url 'client_rooms_hotel' hotel.slug %}{% else %}{% url 'client_rooms' %}{% endif %}" class="btn btn-outline-primary me-2">
                            Nueva Reserva
                        </a>
                        <a href="{% if hotel %}{% url 'client_index_hotel' hotel.slug %}{% else %}{% url 'booking_step1' %}{% endif %}" class="btn btn-outline-secondary">
                            Inicio
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}